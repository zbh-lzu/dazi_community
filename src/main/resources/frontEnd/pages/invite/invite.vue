<template>
	<view class="container">
		<view class="header">
			<text class="title">é‚€è¯·å¥½å‹</text>
		</view>
		
		<view class="content">
			<view class="invite-card">
				<view class="reward-section">
					<text class="reward-title">é‚€è¯·å¥–åŠ±</text>
					<view class="reward-list">
						<view class="reward-item">
							<text class="reward-icon">ğŸ</text>
							<text class="reward-text">æ¯é‚€è¯·1äººæ³¨å†Œè·å¾—10ç§¯åˆ†</text>
						</view>
						<view class="reward-item">
							<text class="reward-icon">ğŸ’°</text>
							<text class="reward-text">å¥½å‹å®Œæˆé¦–ä¸ªä»»åŠ¡æ‚¨è·å¾—5å…ƒå¥–åŠ±</text>
						</view>
						<view class="reward-item">
							<text class="reward-icon">ğŸ‘‘</text>
							<text class="reward-text">ç´¯è®¡é‚€è¯·10äººå‡çº§VIPä¼šå‘˜</text>
						</view>
					</view>
				</view>
				
				<view class="invite-code-section">
					<text class="section-title">æˆ‘çš„é‚€è¯·ç </text>
					<view class="invite-code">
						<text class="code-text">{{ inviteCode }}</text>
						<button class="copy-btn" @tap="copyInviteCode">å¤åˆ¶</button>
					</view>
				</view>
				
				<view class="share-section">
					<text class="section-title">åˆ†äº«ç»™å¥½å‹</text>
					<view class="share-buttons">
						<button class="share-btn wechat" @tap="shareToWechat">
							<text class="share-icon">ğŸ’¬</text>
							<text class="share-text">å¾®ä¿¡</text>
						</button>
						<button class="share-btn moments" @tap="shareToMoments">
							<text class="share-icon">ğŸ“±</text>
							<text class="share-text">æœ‹å‹åœˆ</text>
						</button>
						<button class="share-btn copy" @tap="copyShareLink">
							<text class="share-icon">ğŸ”—</text>
							<text class="share-text">å¤åˆ¶é“¾æ¥</text>
						</button>
					</view>
				</view>
				
				<view class="stats-section">
					<text class="section-title">é‚€è¯·ç»Ÿè®¡</text>
					<view class="stats-grid">
						<view class="stat-item">
							<text class="stat-number">{{ inviteStats.total }}</text>
							<text class="stat-label">ç´¯è®¡é‚€è¯·</text>
						</view>
						<view class="stat-item">
							<text class="stat-number">{{ inviteStats.registered }}</text>
							<text class="stat-label">æˆåŠŸæ³¨å†Œ</text>
						</view>
						<view class="stat-item">
							<text class="stat-number">{{ inviteStats.rewards }}</text>
							<text class="stat-label">è·å¾—ç§¯åˆ†</text>
						</view>
					</view>
				</view>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	data() {
		return {
			inviteCode: 'ALPHA2024',
			shareLink: 'https://alpha.example.com/invite/ALPHA2024',
			inviteStats: {
				total: 5,
				registered: 3,
				rewards: 150
			}
		}
	},
	methods: {
		copyInviteCode() {
			uni.setClipboardData({
				data: this.inviteCode,
				success: () => {
					uni.showToast({
						title: 'é‚€è¯·ç å·²å¤åˆ¶',
						icon: 'success'
					})
				}
			})
		},
		copyShareLink() {
			uni.setClipboardData({
				data: this.shareLink,
				success: () => {
					uni.showToast({
						title: 'é“¾æ¥å·²å¤åˆ¶',
						icon: 'success'
					})
				}
			})
		},
		shareToWechat() {
			// åˆ†äº«åˆ°å¾®ä¿¡å¥½å‹
			uni.share({
				provider: 'weixin',
				scene: 'WXSceneSession',
				type: 0,
				href: this.shareLink,
				title: 'Alpha - ä»»åŠ¡é©±åŠ¨çš„è½»ç¤¾äº¤åº”ç”¨',
				summary: 'å’Œæˆ‘ä¸€èµ·åœ¨Alphaå®Œæˆæœ‰è¶£çš„ä»»åŠ¡ï¼Œæå‡è‡ªå·±ï¼',
				imageUrl: 'https://via.placeholder.com/200x200/00D4AA/FFFFFF?text=Alpha',
				success: () => {
					uni.showToast({
						title: 'åˆ†äº«æˆåŠŸ',
						icon: 'success'
					})
				},
				fail: () => {
					uni.showToast({
						title: 'åˆ†äº«å¤±è´¥',
						icon: 'none'
					})
				}
			})
		},
		shareToMoments() {
			// åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ
			uni.share({
				provider: 'weixin',
				scene: 'WXSceneTimeline',
				type: 0,
				href: this.shareLink,
				title: 'Alpha - ä»»åŠ¡é©±åŠ¨çš„è½»ç¤¾äº¤åº”ç”¨',
				imageUrl: 'https://via.placeholder.com/200x200/00D4AA/FFFFFF?text=Alpha',
				success: () => {
					uni.showToast({
						title: 'åˆ†äº«æˆåŠŸ',
						icon: 'success'
					})
				},
				fail: () => {
					uni.showToast({
						title: 'åˆ†äº«å¤±è´¥',
						icon: 'none'
					})
				}
			})
		}
	}
}
</script>

<style lang="scss" scoped>
@import '@/uni.scss';

.container {
	min-height: 100vh;
	background-color: $background-color;
}

.header {
	background: white;
	padding: $spacing-lg;
	border-bottom: 1px solid $border-color;
	
	.title {
		font-size: $font-size-title;
		font-weight: bold;
		color: $text-primary;
	}
}

.content {
	padding: $spacing-md;
}

.invite-card {
	background: white;
	border-radius: $border-radius-card;
	padding: $spacing-lg;
}

.reward-section {
	margin-bottom: $spacing-xl;
	
	.reward-title {
		font-size: $font-size-title;
		font-weight: bold;
		color: $text-primary;
		display: block;
		margin-bottom: $spacing-md;
	}
	
	.reward-list {
		.reward-item {
			display: flex;
			align-items: center;
			margin-bottom: $spacing-md;
			
			.reward-icon {
				font-size: 24px;
				margin-right: $spacing-md;
			}
			
			.reward-text {
				font-size: $font-size-content;
				color: $text-secondary;
			}
		}
	}
}

.invite-code-section,
.share-section,
.stats-section {
	margin-bottom: $spacing-xl;
	
	.section-title {
		font-size: $font-size-content;
		font-weight: bold;
		color: $text-primary;
		display: block;
		margin-bottom: $spacing-md;
	}
}

.invite-code {
	display: flex;
	align-items: center;
	background: $background-color;
	padding: $spacing-md;
	border-radius: $border-radius-button;
	
	.code-text {
		flex: 1;
		font-size: $font-size-title;
		font-weight: bold;
		color: $primary-color;
		letter-spacing: 2px;
	}
	
	.copy-btn {
		background: $primary-color;
		color: white;
		border: none;
		padding: $spacing-xs $spacing-md;
		border-radius: $border-radius-button;
		font-size: $font-size-helper;
	}
}

.share-buttons {
	display: flex;
	gap: $spacing-md;
	
	.share-btn {
		flex: 1;
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: $spacing-lg;
		border: 1px solid $border-color;
		border-radius: $border-radius-card;
		background: white;
		
		&.wechat {
			border-color: #07c160;
		}
		
		&.moments {
			border-color: #ff6b35;
		}
		
		&.copy {
			border-color: $primary-color;
		}
		
		.share-icon {
			font-size: 32px;
			margin-bottom: $spacing-xs;
		}
		
		.share-text {
			font-size: $font-size-helper;
			color: $text-secondary;
		}
	}
}

.stats-grid {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: $spacing-md;
	
	.stat-item {
		text-align: center;
		background: $background-color;
		padding: $spacing-lg;
		border-radius: $border-radius-card;
		
		.stat-number {
			font-size: $font-size-title;
			font-weight: bold;
			color: $primary-color;
			display: block;
			margin-bottom: $spacing-xs;
		}
		
		.stat-label {
			font-size: $font-size-helper;
			color: $text-secondary;
		}
	}
}
</style> 